(this["webpackJsonpsmartee-shoping"]=this["webpackJsonpsmartee-shoping"]||[]).push([[6],{104:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return O}));var r=n(40),c=n(2),o=n(14),i=n(1),s=n(15),l=n(4),u=n(0);function a(t){var e=t.images,n=t.title,r=t.salePrice,c=t.averageStar,o=t.orders;return Object(u.jsxs)("div",{className:"p-4 border-b border-opacity-25",title:n,children:[Object(u.jsx)("img",{className:"h-auto",src:e[0]+"_".concat(350,"x").concat(350,".jpg"),alt:n}),Object(u.jsx)("p",{className:"truncate",children:n}),Object(u.jsxs)("p",{className:"flex justify-end text-xl font-bold py-3",children:["US $",r.min]}),Object(u.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[Object(u.jsxs)("p",{className:"flex",children:[Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),c]}),o?Object(u.jsxs)("p",{className:"flex",children:[Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),o]}):null]})]})}var d=n(31),f=n(73),b=n(76),j=n(77),p=n(29),h=n(78),m=function(t){return t.products},x=Object(h.a)([function(t){return m(t).items},function(t){return m(t).searchTerm}],(function(t,e){return e?t.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())})):t}));function O(){var t=Object(l.g)().params,e=Object(l.f)(),n=Object(s.b)(),h=Object(s.c)(x),m=Object(s.c)((function(t){return t.categories.categories})),O=Object(s.c)((function(t){return t.productsGroup.items})),g=Object(s.c)((function(t){return t.products.isLoaded})),y=Object(i.useState)(!1),v=Object(o.a)(y,2),w=v[0],N=v[1],I=Object(i.useState)(!1),k=Object(o.a)(I,2),_=k[0],E=k[1],S=Object(i.useState)(!0),L=Object(o.a)(S,2),C=L[0],T=L[1],R=Object(i.useState)({productIds:[],category:"",title:"",photoURL:""}),A=Object(o.a)(R,2),U=A[0],D=A[1];Object(i.useEffect)((function(){t?(N(!0),n(Object(p.c)(t))):(N(!1),D({productIds:[],category:"",title:"",photoURL:""}))}),[n,t]),Object(i.useEffect)((function(){var t;w&&O&&D({productIds:(null===(t=O.productIds)||void 0===t?void 0:t.map((function(t){return t._id})))||[],category:O.category,title:O.title||"",photoURL:O.photoURL})}),[w,O]),Object(i.useEffect)((function(){n(Object(j.a)()),n(Object(b.b)(C))}),[n,C]),Object(i.useEffect)((function(){E(U.productIds.length&&U.title&&U.category&&U.photoURL)}),[U]);return Object(u.jsxs)("div",{children:[Object(u.jsx)(f.a,{text:w?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430"}),Object(u.jsxs)("div",{className:"block xl:flex mb-4",children:[Object(u.jsxs)("div",{className:"flex-1",children:[Object(u.jsx)("p",{className:"text-lg",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(u.jsx)("input",{onInput:function(t){return function(t){return D(Object(c.a)(Object(c.a)({},U),{},{title:t.target.value}))}(t)},value:U.title,type:"text",className:"block w-full md:w-96 py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-yellow-500 focus:border-yellow-500"})]}),Object(u.jsxs)("div",{className:"flex-1",children:[Object(u.jsx)("p",{className:"text-lg",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:"}),g?Object(u.jsxs)("select",{disabled:!g,className:"block w-full md:w-96 text-gray-700 py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-yellow-500 focus:border-yellow-500",name:"category",onChange:function(t){return function(t){return D(Object(c.a)(Object(c.a)({},U),{},{category:t.target.value}))}(t)},value:U.category,children:[Object(u.jsx)("option",{value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}),m.map((function(t){return Object(u.jsx)("option",{value:t._id,children:t.title},t._id)})),"))"]}):Object(u.jsx)(d.a,{})]})]}),Object(u.jsxs)("div",{className:"flex flex-col md:items-center md:flex-row mb-3",children:[Object(u.jsxs)("p",{className:"text-lg md:mr-1",children:["\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u043e\u0432\u0430\u0440\u044b (\u0432\u044b\u0431\u0440\u0430\u043d\u043e ",null===U||void 0===U?void 0:U.productIds.length,"/",null===h||void 0===h?void 0:h.length,"):"]}),Object(u.jsx)("input",{onInput:function(t){return function(t){n(Object(b.c)(t.target.value))}(t)},className:"inline-flex py-1.5 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-yellow-500 focus:border-yellow-500",type:"text"}),Object(u.jsx)("button",{disabled:!(null===h||void 0===h?void 0:h.length),onClick:function(){D(Object(c.a)(Object(c.a)({},U),{},{productIds:h.map((function(t){return t._id}))}))},className:"inline-flex justify-center py-2 px-4 ml-0 my-1 md:my-0 md:ml-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-500 disabled:opacity-20 hover:bg-opacity-75 transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435"}),Object(u.jsx)("button",{disabled:!(null===h||void 0===h?void 0:h.length),onClick:function(){D(Object(c.a)(Object(c.a)({},U),{},{productIds:[]}))},className:"inline-flex justify-center py-2 px-4 ml-0 md:ml-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-500 disabled:opacity-20 hover:bg-opacity-75 transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",children:"\u0421\u043d\u044f\u0442\u044c \u0432\u0441\u0435"})]}),Object(u.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[Object(u.jsx)("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-300 text-yellow-500 focus:ring-transparent",checked:C,onChange:function(){T(!C)}}),Object(u.jsx)("span",{className:"ml-2 text-gray-700",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u043e\u0432\u0430\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043d\u0435 \u043f\u0440\u0438\u0441\u0432\u043e\u0435\u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"})]}),g?Object(u.jsx)("div",{className:"grid grid-cols-2 xl:grid-cols-4",children:null===h||void 0===h?void 0:h.map((function(t){return Object(u.jsx)("div",{className:(null===U||void 0===U?void 0:U.productIds.includes(t._id))?"transition-colors bg-gray-200 cursor-pointer":"transition-colors cursor-pointer",onClick:function(){return function(t){var e,n;U.productIds.includes(t)?D(Object(c.a)(Object(c.a)({},U),{},{productIds:Object(r.a)(U.productIds.filter((function(e){return e!==t}))),photoURL:null===(e=h.find((function(e){return e._id===t})))||void 0===e?void 0:e.images[0]})):D(Object(c.a)(Object(c.a)({},U),{},{productIds:[].concat(Object(r.a)(U.productIds),[t]),photoURL:null===(n=h.find((function(e){return e._id===t})))||void 0===n?void 0:n.images[0]}))}(t._id)},children:Object(u.jsx)(a,Object(c.a)({},t))},t._id)}))}):Object(u.jsx)(d.a,{}),Object(u.jsx)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:Object(u.jsx)("button",{disabled:!_,onClick:function(){return n(w?Object(p.g)(O._id,U):Object(p.a)(U)),void e.goBack()},className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-500 disabled:opacity-20 hover:bg-opacity-75 transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})}},73:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0);function c(t){var e=t.text;return Object(r.jsx)("h1",{className:"text-3xl font-bold mb-3 opacity-75",children:e})}},76:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return l}));var r=n(16),c=n(13),o=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){e({type:"SET_LOADED",payload:!1}),t?Object(r.i)().then((function(t){var n=t.data;e(s(n))})):Object(r.h)().then((function(t){var n=t.data;e(s(n))}))}},i=function(t){return function(e){e({type:"SET_WAITING",payload:!0}),Object(r.a)(t).then((function(){return e(Object(c.b)("\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d","success"))}),(function(t){return e(Object(c.b)("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u0430, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u043d \u0443\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d","error"))})).finally((function(){e({type:"SET_WAITING",payload:!1})}))}},s=function(t){return{type:"SET_PRODUCTS",payload:t}},l=function(t){return{type:"SET_PRODUCTS_SEARCH_TERM",payload:t}}},77:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(16),c=function(){return function(t){t({type:"SET_LOADED",payload:!1}),Object(r.d)().then((function(e){var n=e.data;t(o(n))}))}},o=function(t){return{type:"SET_CATEGORIES",payload:t}}},78:function(t,e,n){"use strict";function r(t,e){return t===e}function c(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,c=0;c<r;c++)if(!t(e[c],n[c]))return!1;return!0}function o(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"===typeof t}))){var n=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}n.d(e,"a",(function(){return i}));var i=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),c=0;c<e;c++)r[c]=arguments[c];var i=0,s=r.pop(),l=o(r),u=t.apply(void 0,[function(){return i++,s.apply(null,arguments)}].concat(n)),a=t((function(){for(var t=[],e=l.length,n=0;n<e;n++)t.push(l[n].apply(null,arguments));return u.apply(null,t)}));return a.resultFunc=s,a.dependencies=l,a.recomputations=function(){return i},a.resetRecomputations=function(){return i=0},a}}((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return c(e,n,arguments)||(o=t.apply(null,arguments)),n=arguments,o}}))}}]);
//# sourceMappingURL=6.94822af4.chunk.js.map